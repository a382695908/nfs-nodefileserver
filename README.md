# nfs-nodefileserver

# 一个基于node.js的文件服务，可作为中小型项目的文件服务，目前完成了，文件上传，文件分片上传，文件合并等功能，数据库方面用的是mysql，前端的上传插件调用的是百度的webuploader当然你也可以使用其他的三方插件或是直接表单提交文件都是OK的，具体的API文件将在一周内开放，目前只是测试版本还有大概40%的方法尚未完成，不影响基础的使用流程。

## 本项目是本人用作学习node.js的项目肯定有很多不足之处，所以希望尽早开放出来多听一些意见来改进学习，此外不接受任何负面的评论，项目将采用mpl开源协议，只求使用者声明该部分是使用该项目的即可，使用用户多的话会开一个单独的站点来说明。QQ:290341190欢迎加好友一起讨论。 

## 开始使用

### 1、首先你要确保你的服务器已经包含了Node.js的运行环境
### 2、在项目路径下public/database/nfs_nodefileserver.sql,是Mysql的创建数据库的SQL语句，执行完成后在根目录下的nfsconfig.json中进行数据库配置，如下：
'''
"openDatabase": true,
  "poolContent":{
    "host"     : "localhost",
    "user"     : "root",
    "password" : "root",
    "port": "3306",
    "database": "nfs_nodefileserver"
  },
  '''
### 3、之后就可以启动项目并访问端口号3000来进行整个文件服务的测试

# 以下是将要解决或已经结局的部分

##可能存在的问题：module的安装在当前项目中无法安装，所有后续安装的module都是从另一个项目中拷过来的。所以暂时package.json的是没有包括的，等后续手动加进去不知道会不会有问题
##文件下载，比如下载请求数大于5时拒绝后续请求，日志系统，文件放满，跨域，分布式
##整个错误的回调机制
##在文件分片上传过程中若发现该文件存在于数据库表中，而该目录地址下不存在该文件，暂时验证时为文件不存在，即可以上传。整个逻辑肯定会出现bug，不过当不存在人为对文件或
数据库进行操作时不会出现问题。
##暂时前端页面不支持多个文件一起分片上传，因为我还做不到根据文件传md5值，现在的md5是一样传上来的。
##基于安全考虑一开始上传的文件就是不带后缀的，这次连文件名中也不再包含任何文件信息以"chunk-chunks"的格式来存放。
